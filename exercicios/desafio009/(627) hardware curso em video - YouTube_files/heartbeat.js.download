(function(g){var window=this;'use strict';var H21=function(B,y){if(!Number.isFinite(B))return String(B);B=String(B);var a=B.indexOf(".");a===-1&&(a=B.length);var r=B[0]==="-"?"-":"";r&&(B=B.substring(1));return r+(0,g.mVu)("0",Math.max(0,y-a))+B},m00=function(){return{W:"svg",
V:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},G:[{W:"path",V:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},oKV=function(){return{W:"svg",
V:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},G:[{W:"path",V:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},gKS=function(B){typeof B==="number"?(this.date=CyC(B,0,1),Rw(this,1)):g.xI(B)?(this.date=CyC(B.getFullYear(),B.getMonth(),B.getDate()),Rw(this,B.getDate())):(this.date=new Date(g.g1()),B=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),Rw(this,B))},CyC=function(B,y,a){y=new Date(B,y,a);
B>=0&&B<100&&y.setFullYear(y.getFullYear()-1900);return y},Rw=function(B,y){B.getDate()!=y&&B.date.setUTCHours(B.date.getUTCHours()+(B.getDate()<y?1:-1))},uP=function(B,y){g.UF.call(this,B,{W:"div",
B:"ytp-reminder-menu",V:{role:"menu",tabindex:"-1"},G:[{W:"div",B:"ytp-reminder-menu-contents",G:[{W:"div",B:"ytp-reminder-menu-items"}]}]},100,!0);this.C=y;this.D=[];this.menuPopupRenderer=void 0;this.items=this.Dm("ytp-reminder-menu-items");this.hide()},lh1=function(B){return(B.menuPopupRenderer&&B.menuPopupRenderer.items||[]).reduce(function(y,a){a&&a.menuServiceItemRenderer&&y.push(a.menuServiceItemRenderer);
return y},[])},Ld=function(B){g.O.call(this,{W:"div",
G:[{W:"button",Mz:["ytp-offline-slate-button","ytp-button"],G:[{W:"div",B:"ytp-offline-slate-button-icon",a7:"{{icon}}"},{W:"div",B:"ytp-offline-slate-button-text",a7:"{{text}}"}]}]});this.S=B;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.X=void 0;this.J=this.C=null;(this.T=this.Dm("ytp-offline-slate-button"))&&this.L(this.T,"click",this.N);this.hide()},wm1=function(B,y,a){!B.toggleButtonRenderer&&y&&y.toggleButtonRenderer?B.toggleButtonRenderer=y.toggleButtonRenderer:
y&&y.toggleButtonRenderer||(B.toggleButtonRenderer=null);
!B.upcomingEventReminderButtonRenderer&&a&&g.f(a,cV1)?B.upcomingEventReminderButtonRenderer=g.f(a,cV1):a&&g.f(a,cV1)||(B.upcomingEventReminderButtonRenderer=null);NX(B)},NX=function(B){if(B.toggleButtonRenderer){var y=B.toggleButtonRenderer;
if(y.isToggled){var a=y.toggledText?g.kE(y.toggledText):"";B.update({text:a,icon:EKo(y.toggledIcon)})}else a=y.defaultText?g.kE(y.defaultText):"",B.update({text:a,icon:EKo(y.defaultIcon)});B.show()}else B.upcomingEventReminderButtonRenderer?(y=zAI(B))?(a=y.text?g.kE(y.text):"",B.update({text:a,icon:EKo(y.icon)}),B.show()):B.hide():B.hide()},Vso=function(B,y,a){B.J||(B.J=new g.X5(B.S.Y().pD));
var r={context:g.aG(B.J.config_||g.ya())};g.cl()&&(r.context.clientScreenNonce=g.cl());r.params=a;g.f5(B.J,y,r,{timeout:5E3,onSuccess:function(){B.upcomingEventReminderButtonRenderer&&B.X&&(B.upcomingEventReminderButtonRenderer.currentState=B.X,B.X=void 0)},
onError:function(){q1K(B)},
onTimeout:function(){q1K(B)}})},q1K=function(B){B.toggleButtonRenderer?(B.toggleButtonRenderer.isToggled=!B.toggleButtonRenderer.isToggled,NX(B)):B.upcomingEventReminderButtonRenderer&&(B.X=void 0,NX(B))},EKo=function(B){if(!B)return null;
switch(B.iconType){case "NOTIFICATIONS":return m00();case "NOTIFICATIONS_NONE":return oKV();case "NOTIFICATIONS_ACTIVE":return g.c9();default:return null}},zAI=function(B){if(!B.upcomingEventReminderButtonRenderer)return null;
var y=B.X||B.upcomingEventReminderButtonRenderer.currentState;B=g.Y(B.upcomingEventReminderButtonRenderer.states||[]);for(var a=B.next();!a.done;a=B.next())if((a=g.f(a.value,RAu))&&a.state===y&&a.button&&g.f(a.button,g.j9))return g.f(a.button,g.j9);return null},uaK=function(B){g.O.call(this,{W:"div",
B:"ytp-offline-slate",G:[{W:"div",B:"ytp-offline-slate-background"},{W:"div",B:"ytp-offline-slate-bar",G:[{W:"span",B:"ytp-offline-slate-icon",G:[{W:"svg",V:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},G:[{W:"path",V:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{W:"circle",V:{cx:"12",cy:"12",r:"3"}}]}]},{W:"span",B:"ytp-offline-slate-messages",G:[{W:"div",B:"ytp-offline-slate-main-text",V:{"aria-label":"{{label}}"},a7:"{{mainText}}"},{W:"div",B:"ytp-offline-slate-subtitle-text",a7:"{{subtitleText}}"}]},{W:"span",B:"ytp-offline-slate-buttons"}]},{W:"button",Mz:["ytp-offline-slate-close-button","ytp-button"],G:[g.mZ()]},{W:"button",Mz:["ytp-offline-slate-open-button","ytp-button"],G:[g.H9()]}]});var y=this;this.api=B;this.C=this.X=null;this.background=this.Dm("ytp-offline-slate-background");
this.D=this.Dm("ytp-offline-slate-bar");this.T=new g.Mv(function(){g.hC(y.D,"ytp-offline-slate-bar-fade")},15E3);
this.N=!1;this.J=new g.Mv(function(){g.hC(y.element,"ytp-offline-slate-collapsed")},15E3);
g.K(this,this.J);g.K(this,this.T);this.countdownTimer=new g.Mv(this.G5,1E3,this);this.L(B,"presentingplayerstatechange",this.yl);this.L(B,"livestatedata",this.qz);this.L(this.Dm("ytp-offline-slate-close-button"),"click",function(){g.hC(y.element,"ytp-offline-slate-collapsed")});
this.L(this.Dm("ytp-offline-slate-open-button"),"click",function(){g.B1(y.element,"ytp-offline-slate-collapsed")});
this.hide();B=this.getVideoData();B.getPlayerResponse()&&(B=B.getPlayerResponse().playabilityStatus)&&this.qz(B);B=this.api.getPresentingPlayerType()===8&&!this.getVideoData().zq;var a=this.api.getPresentingPlayerType()===8;g.aQ(this.element,"ytp-offline-slate-premiere-trailer",B);g.aQ(this.element,"ytp-offline-slate-hide-background",a)},Y1K=function(B,y,a){if(y){var r=y.subtitleText!=null?g.kE(y.subtitleText):"";
a=a?a:y.mainText!=null?g.kE(y.mainText):"";var k,x,J,m;y=(m=(k=y.mainText)==null?void 0:(x=k.accessibility)==null?void 0:(J=x.accessibilityData)==null?void 0:J.label)!=null?m:a;B.update({mainText:a,subtitleText:r,label:y});g.aQ(B.element,"ytp-offline-slate-single-text-line",!r);g.aQ(B.D,"ytp-offline-slate-bar-hidden",!a&&!r)}},bP=function(B,y){var a=(0,g.V4)();
this.trigger=B;this.C=y;this.D=a},ts0=function(B){g.N8.call(this,B);
var y=this;this.N=!1;this.K=0;this.j=!1;this.X=new g.Mv(function(){LrY(y)},0);
this.C=this.heartbeatParams=null;this.J=!1;this.T=new g.px(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.R7=new g.X5(void 0);this.attestationResponse=Promise.resolve(void 0);this.U=Promise.resolve(void 0);this.utcOffsetMinutes=-(new gKS).getTimezoneOffset();this.D=new g.qO(this);g.K(this,this.X);g.K(this,this.D);N4O(this);b2K(this);this.D.L(B,"heartbeatparams",this.HM);this.D.L(B,"presentingplayerstatechange",this.J4);this.D.L(B,"videoplayerreset",this.bZ);this.D.L(B,g.fF("heartbeat"),
this.onCueRangeEnter);this.J&&this.C&&T4I(this,void 0,this.C);var a=new g.iz(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),r=new g.iz(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});B.Rd([a,r]);pmO(this)},pmO=function(B){var y=B.getVideoData();
!y.Z("use_rta_for_player")&&y.SE&&(y=y.botguardData)&&g.vx(y,B.player.Y())},Pyo=function(B){var y,a;
return g.F(function(r){if(r.X==1)return g.Q(r,g.GpU(),2);if(!r.C)return B.sequenceNumber>=3?r.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):r.return(void 0);y=B.getVideoData();a={};return r.return(g.F1e((a.cpn=y.clientPlaybackNonce,a.encryptedVideoId=y.videoId||"",a),1500))})},N4O=function(B){var y=B.getVideoData();
if(y.SE)if(y.Z("use_rta_for_player"))B.attestationResponse=Pyo(B);else if(y=new g.OHe(y),g.Us.isInitialized()||B.sequenceNumber>=3){var a=Promise,r=a.resolve,k=null;if(y.videoData.xU){var x=g.ISW(y);if(x){k={};var J={};x=x.split("&");x=g.Y(x);for(var m=x.next();!m.done;m=x.next())m=m.value.split("="),m.length===2&&(J[m[0]]=m[1]);J.r1a&&(k.webResponse=J.r1a);J.r1c&&(k.error=S10[Number(J.r1c)]);k.challenge=y.videoData.xU}}B.attestationResponse=r.call(a,k||void 0)}},Q51=function(B){var y=B.getVideoData();
if(!g.F9(B.getVideoData())||y.GA)return!1;if(y.j){B=y.j.flavor==="playready"&&y.Z("html5_innertube_heartbeats_for_playready");var a=y.j.flavor==="widevine"&&y.Z("html5_innertube_heartbeats_for_widevine");y=g.xs(y.j)&&y.Z("html5_innertube_heartbeats_for_fairplay");return!(B||a||y)}return!0},AVY=function(B){if(Q51(B))return!!B.heartbeatParams;
var y=B.getVideoData();return!g.F9(B.getVideoData())||y.JW||y.vW?!!y.heartbeatToken:!1},TN=function(B,y){if(!B.X.isActive()&&B.N){var a=B.getVideoData();
if(AVY(B)||a.isLivePlayback){if(y===void 0)if(B.j)if(B.J)y=7500;else{var r;y=((r=B.heartbeatParams)==null?0:r.interval)?B.heartbeatParams.interval*1E3:B.getVideoData().On||6E4}else y=1E3;B.X.start(y)}}},D01=function(B,y,a){y.iP&&(a=g.cJ(a,{internalipoverride:y.iP}));
var r={cpn:y.clientPlaybackNonce};y.contextParams&&(r.context_params=y.contextParams);y.Eo&&(r.kpt=y.Eo);a=g.cJ(a,r);g.qY(a,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(k){if(!B.X.isActive()&&pd(B)){B.T.reset();B.sequenceNumber++;k=k.responseText;var x=Fr0(k);if(x){B.player.Kh("onHeartbeat",x);var J=x.status==="ok"?x.stop_heartbeat?2:0:x.status==="stop"?1:x.status==="live_stream_offline"?0:-1}else J=(J=k.match(G6I))?J[1]==="0"?0:1:-1;eAC(B,void 0,x,k,J)}},
onError:function(k){pd(B)&&tn(B,!0,"net-"+k.status)},
onTimeout:function(){pd(B)&&tn(B,!0,"timeout")},
withCredentials:!0})},LrY=function(B){var y,a;
g.F(function(r){y=B.player.Y();a=B.getVideoData();if(!pd(B))return r.return();if(Q51(B))return WrO(B,y,a),r.dQ(0);N4O(B);return g.Q(r,KrY(B,y,a),0)})},WrO=function(B,y,a){var r;
if((r=B.heartbeatParams)!=null&&r.url){var k=g.cJ(B.heartbeatParams.url,{request_id:g.pX$()});a.t7&&(k=g.cJ(k,{vvt:a.t7}),a.mdxEnvironment&&(k=g.cJ(k,{mdx_environment:a.mdxEnvironment})));g.Vj(y,a.oauthToken).then(function(x){x&&(k=g.cJ(k,{access_token:x}));D01(B,a,k)})}},pd=function(B){var y=B.getVideoData();
return B.player.getPresentingPlayerType()===3||g.Z(B.player.getPlayerStateObject(B.getPlayerType()),4)?!1:AVY(B)||y.isLivePlayback?!0:(PU(B),!1)},KrY=function(B,y,a){var r,k,x,J,m,C,l,c,w,E,z,q,L,b,S,P,A,D,M,U;
return g.F(function(n){if(n.X==1)return r="player/heartbeat",x={videoId:a.videoId,sequenceNumber:B.sequenceNumber,heartbeatServerData:(k=B.Ch)!=null?k:a.heartbeatServerData},B.U=B.attestationResponse,a.SE?g.Q(n,B.U,3):n.dQ(2);n.X!=2&&(x.attestationResponse=n.C);J=g.l1(a);C=(m=J.client)!=null?m:{};C.utcOffsetMinutes=B.utcOffsetMinutes;x.context=J;x.cpn=a.clientPlaybackNonce;if(l=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)C.timeZone=l;c={heartbeatChecks:[]};
if(w=a.getPlayerResponse())a.heartbeatToken&&(x.heartbeatToken=a.heartbeatToken),(E=w.playabilityStatus)&&(z=E.liveStreamability)&&z.liveStreamabilityRenderer&&c.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");a.heartbeatToken&&c.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.Jy(y)&&(c.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),q=i2O(B),L={},q!==null&&(L.clientPlayerPositionUtcMillis=q),S=(b=B.player.Di())==null?void 0:g.GC(b),A=((P=S)==null?void 0:P.freePreviewWatchedDuration)||
0,A>0&&(L.freePreviewWatchedDuration={seconds:""+A}),c.unpluggedParams=L);x.heartbeatRequestParams=c;a.isLivePlayback?(D=i2O(B),D!==null&&(x.playbackState||(x.playbackState={}),x.playbackState.playbackPosition={utcTimeMillis:D})):y.Z("enable_heartbeat_vod_playback_position")&&(M=XmS(B),M!==null&&(x.playbackState||(x.playbackState={}),x.playbackState.playbackPosition={streamTimeMillis:M}));B.player.publish("heartbeatRequest",x);U={timeout:3E4,onSuccess:function(xW){if(!B.X.isActive()&&pd(B)){var C4=
B.getVideoData(),HE=C4.SE&&B.U==null,g$$;C4.SE=!((g$$=xW.heartbeatAttestationConfig)==null||!g$$.requiresAttestation)||HE;HE=xW.playabilityStatus;g$$=JSON.stringify(HE)||"{}";xW.authenticationMismatch&&B.player.h7("authshear",{});var yr=-1;var YW=xW.playabilityStatus;YW&&(B.player.Kh("onHeartbeat",YW),YW.status==="OK"?yr=xW.stopHeartbeat?2:0:YW.status==="UNPLAYABLE"?yr=1:YW.status==="LIVE_STREAM_OFFLINE"&&(yr=0));B.sequenceNumber&&yr===-1||B.T.reset();B.sequenceNumber++;xW.heartbeatServerData&&(B.Ch=
xW.heartbeatServerData);C4.fX=xW;(YW=xW.playerCueRangeSet)&&g.oa(C4,YW);xW.playerCueRanges&&xW.playerCueRanges.length>0&&(C4.cueRanges=xW.playerCueRanges);var ex,BC;((ex=xW.progressBarConfig)==null?0:ex.progressBarStartPosition)&&((BC=xW.progressBarConfig)==null?0:BC.progressBarEndPosition)&&(C4.progressBarStartPosition=xW.progressBarConfig.progressBarStartPosition,C4.progressBarEndPosition=xW.progressBarConfig.progressBarEndPosition);C4.compositeLiveIngestionOffsetToken=xW.compositeLiveIngestionOffsetToken;
xW.compositeLiveStatusToken!==C4.compositeLiveStatusToken&&(C4.compositeLiveStatusToken=xW.compositeLiveStatusToken);C4.publish("dataupdated");eAC(B,xW,HE,g$$,yr)}},
onError:function(xW){pd(B)&&tn(B,!0,"net-"+xW.status)},
onTimeout:function(){pd(B)&&tn(B,!0,"timeout")}};
g.Vj(y,g.hl(a)).then(function(xW){xW&&(U.Qs="Bearer "+xW);g.f5(B.R7,r,x,U)});
g.bJ(n)})},eAC=function(B,y,a,r,k){k===-1?(a="decode "+g.Tx(r,3),tn(B,!1,a)):k===2?(PU(B),B.j=!0):(B.K=0,B.X.stop(),k===1?(B.j=!1,a&&a.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&B.player.CD(!0),k="pe."+(a==null?void 0:a.errorCode)+";ps."+(a==null?void 0:a.status),B.player.iS("heartbeat.stop",2,B.H0(r),k),g.BL("heartbeatActionPlayerHalted",fhC(a)),(y==null?0:y.videoTransitionEndpoint)&&a&&(y=y.videoTransitionEndpoint,(r=g.f(y,g.gk))&&Mso(B,r,a,{itct:y==null?void 0:y.clickTrackingParams}))):(B.j=
!0,r=0,B.J&&a&&(r=T4I(B,y,a),B.player.publish("livestatedata",a)),r?TN(B,r):TN(B)))},T4I=function(B,y,a){var r=a.liveStreamability&&a.liveStreamability.liveStreamabilityRenderer,k=!(!r||!(r.switchStreamsImmediately||r.transitionTiming&&r.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
y=$0Y(B,y,r);var x=B.getVideoData(),J=B.player.getPlayerStateObject(B.getPlayerType()),m=J.isPlaying()&&!g.X9(x)&&!B.player.isAtLiveHead(B.getPlayerType());if(x.Y().F0()){var C,l=((C=B.player.yv())==null?void 0:C.yL())||{};l.status=a.status||"";l.dvr=""+ +m;l["switch"]=""+ +k;l.ended=""+ +!(!r||!r.displayEndscreen);B.player.h7("heartbeat",l)}C=B.player.Z("always_cache_redirect_endpoint");if(m&&!k&&!C)return y;l=r&&r.streamTransitionEndpoint&&g.f(r.streamTransitionEndpoint,g.gk);var c=r&&r.transitionTiming;
if(c==="STREAM_TRANSITION_TIMING_AT_STREAM_END")B.getVideoData().transitionEndpointAtEndOfStream=l;else if(C&&!l&&B.getVideoData().transitionEndpointAtEndOfStream)B.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!C&&l&&Mso(B,l,a))return y;if(m&&!k&&C||C&&l&&(c==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||c==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&Mso(B,l,a))return y;if(a.status.toUpperCase()==="OK"){k=r&&r.broadcastId;m=B.C&&B.C.liveStreamability&&B.C.liveStreamability.liveStreamabilityRenderer&&
B.C.liveStreamability.liveStreamabilityRenderer.broadcastId;C=k!==m&&k!=null;if(!g.Wi(x)||C){var w={video_id:x.videoId};x.TO&&(w.is_live_destination="1");w.disable_watch_next=!0;w.raw_watch_next_response=x.getWatchNextResponse();w.autonav_state=x.autonavState;w.oauth_token=x.oauthToken;w.Ue=x.Ue;x.T&&(w.vss_credentials_token=x.T,w.vss_credentials_token_type=x.b9);x.t7&&(w.vvt=x.t7);r=void 0;g.Wi(x)?C&&(r=new bP("broadcastIdChanged",m+","+k),B.MC("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
a)):(k&&(r=new bP("formatsReceived",""+k)),B.MC("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",a));B.player.loadVideoByPlayerVars(w,void 0,void 0,void 0,r);return y}B.player.Jg("heartbeat",B.getPlayerType())}r&&r.displayEndscreen&&(B.offlineSlate?(B=B.offlineSlate,B.N=!0,B.g$&&B.api.Y2()):J.isBuffering()&&(x=((w=B.player.yv())==null?void 0:w.yL())||{},B.player.h7("hbse",x,!0),B.player.Y2(),B.player.Kh("onLiveMediaEnded",a)));return y},$0Y=function(B,
y,a){return B.player.Z("web_player_use_heartbeat_poll_delay_ms")&&(B=Number(y==null?void 0:y.pollDelayMs))?B:(a=Number(a==null?void 0:a.pollDelayMs))?a:0},tn=function(B,y,a){if(!B.X.isActive()){B.X.stop();
B.K++;var r=y?"heartbeat.net":"heartbeat.servererror";var k=B.getVideoData();if(k.qC||y&&!g.F9(B.getVideoData())&&!AVY(B)&&k.isLivePlayback)k=!1;else{var x,J;((J=B.heartbeatParams)==null?0:J.retries)?x=B.heartbeatParams.retries:x=k.J2||5;k=B.K>=x}k?(g.BL("heartbeatActionPlayerHalted",y?{enforcedPolicyToHaltOnNetworkFailure:!0}:fhC()),(y=B.getVideoData())&&y.isLivePlayback?B.player.iS(r,1,"Reprodu\u00e7\u00e3o de v\u00eddeo interrompida. Tente novamente.",a):B.player.iS(r,1,"Ocorreu um erro ao licenciar este v\u00eddeo.",
a)):(TN(B,B.T.getValue()),g.tR(B.T))}},fhC=function(B){var y={enforcedPolicyToHaltOnNetworkFailure:!1};
B&&(y.serializedServerContext=B.additionalLoggingData);return y},PU=function(B){B.K=0;
B.X.stop();B.j=!1;B.sequenceNumber=0},b2K=function(B){var y=B.getVideoData(),a=B.player.Y();
if(y.isLivePlayback)if(g.q$(a.j)){B.J=!0;B.N=!0;if(!g.oz(a)||g.Jy(a))B.offlineSlate=new uaK(B.player),g.K(B,B.offlineSlate),g.Mh(B.player,B.offlineSlate.element,4);(y=y.getPlayerResponse())&&y.playabilityStatus&&(B.C=y.playabilityStatus);var r;((r=B.C)==null?void 0:r.status)!=="UNPLAYABLE"&&(B.C?(r=$0Y(B,void 0,B.C.liveStreamability&&B.C.liveStreamability.liveStreamabilityRenderer))?TN(B,r):TN(B,7500):TN(B,1E3))}else B.player.iS("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.YI(y.Ch,"heartbeat")&&B.player.Jg("heartbeat",B.getPlayerType())},Mso=function(B,y,a,r){var k=y&&y.videoId;
return k?(B.player.S6(k,Object.assign({},{autonav:"1"},r||{}),void 0,!0,!0,y,g.hl(B.getVideoData())),B.MC("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",a),!0):!1},i2O=function(B){return(B=B.player.getProgressState(B.getPlayerType()).ingestionTime)&&isFinite(B)?""+Math.floor(B*1E3):null},XmS=function(B){return(B=B.player.getCurrentTime(B.getPlayerType()))&&isFinite(B)?""+Math.floor(B*1E3):null},Fr0=function(B){try{var y=JSON.parse(B);
return y!=null?y:void 0}catch(a){}},O2S={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
O2S={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","depois de Cristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),STANDALONEMONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),SHORTMONTHS:"jan. fev. mar. abr. mai. jun. jul. ago. set. out. nov. dez.".split(" "),STANDALONESHORTMONTHS:"jan. fev. mar. abr. mai. jun. jul. ago. set. out. nov. dez.".split(" "),
WEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. seg. ter. qua. qui. sex. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. seg. ter. qua. qui. sex. s\u00e1b.".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1\u00ba trimestre",
"2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u00e0s' {0}","{1} '\u00e0s' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
var S10=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],Ihu={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.V=gKS.prototype;g.V.yd=O2S.FIRSTDAYOFWEEK;g.V.Pz=O2S.FIRSTWEEKCUTOFFDAY;
g.V.clone=function(){var B=new gKS(this.date);B.yd=this.yd;B.Pz=this.Pz;return B};
g.V.getFullYear=function(){return this.date.getFullYear()};
g.V.getYear=function(){return this.getFullYear()};
g.V.getMonth=function(){return this.date.getMonth()};
g.V.getDate=function(){return this.date.getDate()};
g.V.getTime=function(){return this.date.getTime()};
g.V.getDay=function(){return this.date.getDay()};
g.V.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.V.getUTCMonth=function(){return this.date.getUTCMonth()};
g.V.getUTCDate=function(){return this.date.getUTCDate()};
g.V.getUTCDay=function(){return this.date.getDay()};
g.V.getUTCHours=function(){return this.date.getUTCHours()};
g.V.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.V.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.V.set=function(B){this.date=new Date(B.getFullYear(),B.getMonth(),B.getDate())};
g.V.setFullYear=function(B){this.date.setFullYear(B)};
g.V.setYear=function(B){this.setFullYear(B)};
g.V.setMonth=function(B){this.date.setMonth(B)};
g.V.setDate=function(B){this.date.setDate(B)};
g.V.setTime=function(B){this.date.setTime(B)};
g.V.setUTCFullYear=function(B){this.date.setUTCFullYear(B)};
g.V.setUTCMonth=function(B){this.date.setUTCMonth(B)};
g.V.setUTCDate=function(B){this.date.setUTCDate(B)};
g.V.add=function(B){if(B.years||B.months){var y=this.getMonth()+B.months+B.years*12,a=this.getYear()+Math.floor(y/12);y%=12;y<0&&(y+=12);a:{switch(y){case 1:var r=a%4!=0||a%100==0&&a%400!=0?28:29;break a;case 5:case 8:case 10:case 3:r=30;break a}r=31}r=Math.min(r,this.getDate());this.setDate(1);this.setFullYear(a);this.setMonth(y);this.setDate(r)}B.days&&(a=this.getYear(),y=a>=0&&a<=99?-1900:0,B=new Date((new Date(a,this.getMonth(),this.getDate(),12)).getTime()+B.days*864E5),this.setDate(1),this.setFullYear(B.getFullYear()+
y),this.setMonth(B.getMonth()),this.setDate(B.getDate()),Rw(this,B.getDate()))};
g.V.equals=function(B){return!(!B||this.getYear()!=B.getYear()||this.getMonth()!=B.getMonth()||this.getDate()!=B.getDate())};
g.V.toString=function(){var B=this.getFullYear(),y=B<0?"-":B>=1E4?"+":"";return[y+H21(Math.abs(B),y?6:4),H21(this.getMonth()+1,2),H21(this.getDate(),2)].join("")+""};
g.V.valueOf=function(){return this.date.valueOf()};var Z27=new g.qz("addUpcomingEventReminderEndpoint");var nKV=new g.qz("removeUpcomingEventReminderEndpoint");var d0Y=new g.qz("updateUpcomingEventReminderButtonStateCommand");var cV1=new g.qz("upcomingEventReminderButtonRenderer"),RAu=new g.qz("upcomingEventReminderButtonStateRenderer");g.R(uP,g.UF);
uP.prototype.updateMenuItems=function(){var B=this,y=lh1(this),a=0;a=0;for(var r={};a<y.length;r={t3:void 0},a++){var k=this.D[a];k||(k=new g.O({W:"div",B:"ytp-reminder-menu-item",V:{role:"menuitem",tabindex:"0"},G:[{W:"div",B:"ytp-reminder-menu-item-icon",a7:"{{icon}}"},{W:"div",B:"ytp-reminder-menu-item-label",a7:"{{text}}"}]}),r.t3=a,k.listen("click",function(J){return function(){var m=J.t3;B.iV();m=lh1(B)[m];B.publish("reminderMenuItemClicked",m.serviceEndpoint||m.command)}}(r)),k.Wk(this.items),
this.D[a]=k);
var x=y[a];r=null;switch(x.icon&&x.icon.iconType){case "NOTIFICATIONS":r=m00();break;case "NOTIFICATIONS_NONE":r=oKV();break;case "NOTIFICATIONS_ACTIVE":r=g.c9()}x=x.text?g.kE(x.text):"";k.update({icon:r,text:x})}for(;a<this.D.length;)this.D.pop().dispose();a===0?this.iV():this.LL(this.C)};
uP.prototype.hide=function(){this.C&&this.C.removeAttribute("aria-haspopup");g.UF.prototype.hide.call(this)};
uP.prototype.show=function(){this.C&&this.C.setAttribute("aria-haspopup","true");g.UF.prototype.show.call(this)};
uP.prototype.lw=function(){g.vJ(this.D);g.UF.prototype.lw.call(this)};g.R(Ld,g.O);
Ld.prototype.N=function(){if(this.toggleButtonRenderer){var B=this.toggleButtonRenderer;B.isToggled?this.D(B.toggledServiceEndpoint):this.D(B.defaultServiceEndpoint);B.isToggled=!B.isToggled;NX(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.C&&this.C.g$)this.C.iV();else{var y=zAI(this);y&&this.D(y.serviceEndpoint||y.command);y=((B=g.f(y==null?void 0:y.command,g.Hr))==null?void 0:B.commands)||[];a:{B=g.Y(y);for(var a=B.next();!a.done;a=B.next()){var r=y=void 0;if(a=(y=g.f(a.value,g.zJY))==
null?void 0:(r=y.popup)==null?void 0:r.menuPopupRenderer){B=a;break a}}B=void 0}this.C||(this.C=new uP(this.S,this.T),this.C.Wk(this.element),g.K(this,this.C),this.C.subscribe("reminderMenuItemClicked",this.D,this));y=this.C;y.menuPopupRenderer=B;y.updateMenuItems()}};
Ld.prototype.D=function(B){var y=g.f(B,Z27),a=g.f(B,nKV);if(B&&(y||a)){if(y){var r=y;var k="notification/add_upcoming_event_reminder"}else a&&(r=a,k="notification/remove_upcoming_event_reminder");if(k&&r&&r.params)for(Vso(this,k,r.params),B=g.Y(r.commands||[]),y=B.next();!y.done;y=B.next())if((y=y.value)&&g.f(y,d0Y)){this.X=g.f(y,d0Y).state;NX(this);break}}};g.R(uaK,g.O);g.V=uaK.prototype;g.V.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.V.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.V.qz=function(B){var y,a,r=B==null?void 0:(y=B.liveStreamability)==null?void 0:(a=y.liveStreamabilityRenderer)==null?void 0:a.offlineSlate;if(r){this.X=B;y=r.liveStreamOfflineSlateRenderer;y.canShowCountdown?this.G5():Y1K(this,y);var k,x,J,m;if(a=B==null?void 0:(k=B.liveStreamability)==null?void 0:(x=k.liveStreamabilityRenderer)==null?void 0:(J=x.offlineSlate)==null?void 0:(m=J.liveStreamOfflineSlateRenderer)==null?void 0:m.thumbnail){k=0;x=null;J=a.thumbnails;for(m=0;m<J.length;m++)J[m].width>
k&&(k=J[m].width||0,x=J[m].url);x&&(this.background.style.backgroundImage="url("+x+")")}else this.background.style.backgroundImage="";y.actionButtons||y.reminderButton?(this.C||(this.C=new Ld(this.api),this.C.Wk(this.Dm("ytp-offline-slate-buttons")),g.K(this,this.C)),wm1(this.C,y.actionButtons&&y.actionButtons[0],y.reminderButton)):this.C&&wm1(this.C,null,null);this.X=B}else this.X=null;this.yl()};
g.V.yl=function(B){if(this.api.getPresentingPlayerType()===8)var y=!0;else{var a=this.api.getPlayerStateObject(),r=this.getVideoData();y=r.isLivePlayback&&(a.isBuffering()||g.Z(a,2)||g.Z(a,64));var k=r.autonavState===2&&g.Z(a,2);a=a.isPlaying()&&!g.X9(r)&&!this.api.isAtLiveHead(void 0,!0);y=y&&!a&&!k}y&&this.X?this.g$?(B==null?0:g.xu(B,2))&&!this.getVideoData().zq&&(g.B1(this.element,"ytp-offline-slate-collapsed"),this.J.stop(),g.B1(this.D,"ytp-offline-slate-bar-fade"),this.T.start()):(this.show(),
this.J.start(),this.api.publish("offlineslatestatechange"),this.N&&this.api.Y2()):this.g$&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.V.G5=function(){var B,y,a,r,k=(B=this.X)==null?void 0:(y=B.liveStreamability)==null?void 0:(a=y.liveStreamabilityRenderer)==null?void 0:(r=a.offlineSlate)==null?void 0:r.liveStreamOfflineSlateRenderer;k&&(B=Math.floor(g.g1()/1E3),y=k.canShowCountdown&&Number(k.scheduledStartTime),!y||y<=B?(Y1K(this,k),this.countdownTimer.stop()):(Y1K(this,k,g.wW(y-B)),g.$h(this.countdownTimer)))};
g.V.lw=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.O.prototype.lw.call(this)};bP.prototype.X=function(B){return this.trigger&&B.trigger?this.trigger===B.trigger&&this.C===B.C:!1};
bP.prototype.isExpired=function(){return(0,g.V4)()-this.D>6E4};
bP.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.C};g.R(ts0,g.N8);g.V=ts0.prototype;g.V.lw=function(){PU(this);this.player.zt("heartbeat");g.N8.prototype.lw.call(this)};
g.V.onCueRangeEnter=function(){this.N=!0;TN(this,2E3)};
g.V.HM=function(B){this.heartbeatParams=B;TN(this,2E3)};
g.V.J4=function(B){var y;this.player.getPresentingPlayerType()!==8&&((y=this.C)==null?void 0:y.status)!=="UNPLAYABLE"&&(g.Z(B.state,2)||g.Z(B.state,64)?(PU(this),this.J&&(this.N=!0,TN(this,1E3))):(g.Z(B.state,1)||g.Z(B.state,8))&&TN(this,2E3))};
g.V.bZ=function(){this.player.getPresentingPlayerType()!==3&&TN(this,2E3)};
g.V.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.V.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.V.XI=function(B){switch(B){case 4:case 3:return!1}return!0};
g.V.MC=function(B,y,a){B={trigger:B,reason:y};a&&(B.serializedServerContext=a.additionalLoggingData);g.BL("heartbeatActionPlayerTransitioned",B)};
g.V.H0=function(B){var y="LICENSE",a=Fr0(B);if(a)return a.reason||g.OS[y]||"";if(B=B.match(G6I))if(B=Number(B[1]))y=(y=Ihu[B.toString()])?y:"LICENSE";return g.OS[y]||""};
g.V.vH=function(){return!!this.offlineSlate&&this.offlineSlate.g$};
var G6I=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.LT("heartbeat",ts0);})(_yt_player);
